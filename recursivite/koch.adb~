-- Compilation possible uniquement Ã  l'INSA
with Tortue;
with Ada.Text_Io;
use Tortue;
use Ada.Text_Io;

procedure Koch is
   
   procedure Courbe (Finesse: Integer; Longueur : Integer) is
   begin
      if Finesse = 1 then
	 Avancer(Float(Longueur));
      else 
	 Courbe(Finesse - 1, Longueur / 4);
	 Tourner_Gauche (60.0);
	 Courbe(Finesse - 1, Longueur / 4);
	 Tourner_Droite(60.0);
	 Courbe(Finesse - 1, Longueur / 4);
	 Tourner_Gauche(60.0);
	 Courbe(Finesse - 1, Longueur / 4);
      end if;
   end Courbe;
   
   procedure Init(Position : integer) is
   begin
      Ouvrir_Fenetre;
      Lever_Crayon;
      Aller_A(Position,0);
      Tourner_Droite(90.0);
      Baisser_Crayon;
   end Init;
   
   
   procedure Test_Koch is
      Pixel : Integer := 1200;
   begin
      Init(pixel/2);
      Courbe(1, pixel);
   end Test_Koch;
   
   
begin
   Test_Koch;
end Koch;
