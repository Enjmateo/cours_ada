with Ada.Text_Io;
use Ada.Text_Io;

procedure Nb_Premiers is
   
   LMT : constant Integer := 100;
   
   -- Fonction de test de nb premiers
   function Is_Prime(N : Integer) return Boolean is
      Prime : Boolean := True;
   begin
      for I in 2..(N-1) loop
	 if (Float(N/I)=Float(N)/Float(i)) then 
	    Prime := False;
	 end if;
      end loop;
      return prime;
   end Is_Prime;
   
   -- Puissance de 10
   function mode(M : Integer) return Integer is 
      I : Integer := 0;
      N : Integer := M;
   begin
      while N >= 0 loop
	 N := N - 10**I;
	 I := I + 1;
      end loop;
      return I;
   end mode;
   
   -- Recherche de nombres primiers tromcables
   procedure Troncable(N : Integer) is
      N2 : Integer := 0;
   begin
      if Is_Prime(N) then
	 Put_Line(Integer'Image(N));
	 for I in 1..9 loop
	    N2 := N+(I*10**(Mode(N) - 1));
	    if Is_Prime(N2) then
	       Troncable(N2);
	    end if;
	 end loop;
      end if;
   end Troncable;
   
   
   
begin
   for I in 1..LMT loop
      Troncable(I);
   end loop;
end Nb_Premiers;
